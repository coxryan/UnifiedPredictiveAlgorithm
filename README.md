
# Unified Predictive Algorithm — Complete Repo

This repo is ready to unzip, commit, and deploy on GitHub Pages with **fully automated FBS data collection**.

## What’s included
- **Dashboard** (Vite + React + TS) with **Collector Status** (countdown, health light, CSV last-modified, Run now)
- **GitHub Actions**
  - `collect-all.yml`: fetches CFBD data for all FBS every 30 minutes, commits to `/data`, then builds and deploys Pages
- **Agents**
  - `agents/collect_cfbd_all.py`: collector via official `cfbd` client (WRPS, Talent, prior-year SOS rank, Portal net), optional Google Sheets upsert
- **Data**
  - `/data/status.json` (dashboard polls this); `/data/upa_team_inputs_datadriven_v0.csv` generated by the collector

## One-time setup
1. Create a repo named **UnifiedPredictiveAlgorithm** (or rename this folder to your repo name).
2. Push these files to the repo.
3. In **Settings → Secrets and variables → Actions**, add:
   - Secret **BEARER_TOKEN** = your CollegeFootballData API token
   - *(Optional)* Secret **GOOGLE_SERVICE_ACCOUNT_JSON** = full service account JSON (for Sheets upsert)
   - *(Optional)* Variable **SHEET_ID** = your Google Sheet ID
4. In **Actions**, run **Agent Collect & Update CSVs (All FBS)** once (or wait ~30 min).

## Notes
- If your repo name is different, change `base` in `vite.config.ts` and ensure the Pages domain matches.
- The Pages deployment is handled in the same workflow **after** the collector commits updates.
- The dashboard pulls files from `/data` at the repo root, which Pages serves statically.

## Local dev
```bash
npm install
npm run dev
```
Open http://localhost:5173 — the dashboard will look for `data/status.json` and `data/upa_team_inputs_datadriven_v0.csv`.
